import{s as re,n as G,p as Ae,c as Y,o as De}from"../chunks/Cp973A_G.js";import{S as ae,i as oe,d as h,k as _,a as L,b as d,m as ee,c as g,e as S,l as ce,g as T,h as b,j as A,z as Fe,y as _e,f as Ee,t as Se,p as j,n as V,o as q,D as me,q as $e,r as U,u as Ve,v as Q,w as z,E as qe,x as Te,A as ve,F as Le}from"../chunks/Y-MJMxnd.js";import{i as Ne,e as R,B as Oe,a as Be,b as He,o as Me}from"../chunks/DkYZorHR.js";import{d as Pe,w as te,g as pe}from"../chunks/B-F-lr7P.js";import{S as je}from"../chunks/Da_UDcRJ.js";import{I as Ue}from"../chunks/DC7g2SNu.js";import{E as Qe}from"../chunks/BWM_YBFp.js";const ze=te(Ne),Z=te("All"),se=te("trending"),x=te(""),Ge=Pe([ze,Z,se,x],([r,e,i,t])=>{let n=r;if(e!=="All"&&(n=n.filter(l=>l.category===e)),t){const l=t.toLowerCase();n=n.filter(o=>o.title.toLowerCase().includes(l)||o.description.toLowerCase().includes(l))}switch(i){case"trending":return n.sort((l,o)=>o.stats.totalAttentionHours-l.stats.totalAttentionHours);case"recent":return n.sort((l,o)=>new Date(o.createdAt).getTime()-new Date(l.createdAt).getTime());case"high-impact":return n.filter(l=>l.stats.impactLevel==="high");default:return n}});function ge(r){let e,i="âœ•",t,n;return{c(){e=b("button"),e.textContent=i,this.h()},l(l){e=g(l,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),ce(e)!=="svelte-hrl6da"&&(e.textContent=i),this.h()},h(){_(e,"class","clear-button svelte-iaqh31"),_(e,"aria-label","Clear search")},m(l,o){L(l,e,o),t||(n=ee(e,"click",r[3]),t=!0)},p:G,d(l){l&&h(e),t=!1,n()}}}function Re(r){let e,i,t="ðŸ”",n,l,o,a,s,c=r[0]&&ge(r);return{c(){e=b("div"),i=b("span"),i.textContent=t,n=A(),l=b("input"),o=A(),c&&c.c(),this.h()},l(f){e=g(f,"DIV",{class:!0});var v=S(e);i=g(v,"SPAN",{class:!0,"data-svelte-h":!0}),ce(i)!=="svelte-k77c2d"&&(i.textContent=t),n=T(v),l=g(v,"INPUT",{type:!0,placeholder:!0,class:!0}),o=T(v),c&&c.l(v),v.forEach(h),this.h()},h(){_(i,"class","search-icon svelte-iaqh31"),_(l,"type","text"),_(l,"placeholder",r[1]),l.value=r[0],_(l,"class","search-input svelte-iaqh31"),_(e,"class","search-bar svelte-iaqh31")},m(f,v){L(f,e,v),d(e,i),d(e,n),d(e,l),d(e,o),c&&c.m(e,null),a||(s=ee(l,"input",r[2]),a=!0)},p(f,[v]){v&2&&_(l,"placeholder",f[1]),v&1&&l.value!==f[0]&&(l.value=f[0]),f[0]?c?c.p(f,v):(c=ge(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:G,o:G,d(f){f&&h(e),c&&c.d(),a=!1,s()}}}function Je(r,e,i){let{value:t=""}=e,{placeholder:n="Search..."}=e,{onInput:l=void 0}=e;function o(s){const c=s.target;i(0,t=c.value),l&&l(t)}function a(){i(0,t=""),l&&l("")}return r.$$set=s=>{"value"in s&&i(0,t=s.value),"placeholder"in s&&i(1,n=s.placeholder),"onInput"in s&&i(4,l=s.onInput)},[t,n,o,a,l]}class Ke extends ae{constructor(e){super(),oe(this,e,Je,Re,re,{value:0,placeholder:1,onInput:4})}}function be(r,e,i){const t=r.slice();return t[5]=e[i],t}function ke(r){let e,i=r[5]+"",t,n,l,o;function a(){return r[4](r[5])}return{c(){e=b("button"),t=Se(i),n=A(),this.h()},l(s){e=g(s,"BUTTON",{class:!0});var c=S(e);t=Ee(c,i),n=T(c),c.forEach(h),this.h()},h(){_(e,"class","filter-chip svelte-vbiria"),_e(e,"active",r[0]===r[5])},m(s,c){L(s,e,c),d(e,t),d(e,n),l||(o=ee(e,"click",a),l=!0)},p(s,c){r=s,c&3&&_e(e,"active",r[0]===r[5])},d(s){s&&h(e),l=!1,o()}}}function We(r){let e,i=R(r[1]),t=[];for(let n=0;n<i.length;n+=1)t[n]=ke(be(r,i,n));return{c(){e=b("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var l=S(e);for(let o=0;o<t.length;o+=1)t[o].l(l);l.forEach(h),this.h()},h(){_(e,"class","filter-chips svelte-vbiria")},m(n,l){L(n,e,l);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,[l]){if(l&7){i=R(n[1]);let o;for(o=0;o<i.length;o+=1){const a=be(n,i,o);t[o]?t[o].p(a,l):(t[o]=ke(a),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},i:G,o:G,d(n){n&&h(e),Fe(t,n)}}}function Xe(r,e,i){let{activeFilter:t="All"}=e,{onFilterChange:n=void 0}=e;const l=["All","Organic Food & Nutrition","Land Stewardship","Off-Grid & Sustainable Living","Health & Vitality","Community Abundance","Self & Spiritual Development","Creative Expression"];function o(s){i(0,t=s),n&&n(s)}const a=s=>o(s);return r.$$set=s=>{"activeFilter"in s&&i(0,t=s.activeFilter),"onFilterChange"in s&&i(3,n=s.onFilterChange)},[t,l,o,n,a]}class Ye extends ae{constructor(e){super(),oe(this,e,Xe,We,re,{activeFilter:0,onFilterChange:3})}}function Ie(r,e,i){const t=r.slice();return t[15]=e[i],t}function Ce(r,e,i){const t=r.slice();return t[18]=e[i],t}function ye(r){let e,i=r[18].label+"",t;return{c(){e=b("option"),t=Se(i),this.h()},l(n){e=g(n,"OPTION",{class:!0});var l=S(e);t=Ee(l,i),l.forEach(h),this.h()},h(){e.__value=r[18].value,qe(e,e.__value),_(e,"class","svelte-7bymer")},m(n,l){L(n,e,l),d(e,t)},p:G,d(n){n&&h(e)}}}function Ze(r){let e,i;return e=new Qe({props:{icon:"ðŸ”",title:"No intentions found",message:r[4]?"Try adjusting your filters or search query":"Be the first to create an intention!",actionText:r[4]?"Clear Filters":"Create Intention",onAction:r[4]?r[10]:r[13]}}),{c(){z(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,n){U(e,t,n),i=!0},p(t,n){const l={};n&16&&(l.message=t[4]?"Try adjusting your filters or search query":"Be the first to create an intention!"),n&16&&(l.actionText=t[4]?"Clear Filters":"Create Intention"),n&16&&(l.onAction=t[4]?t[10]:t[13]),e.$set(l)},i(t){i||(q(e.$$.fragment,t),i=!0)},o(t){V(e.$$.fragment,t),i=!1},d(t){j(e,t)}}}function xe(r){let e=[],i=new Map,t,n,l=R(r[0]);const o=a=>a[15].intentionId;for(let a=0;a<l.length;a+=1){let s=Ie(r,l,a),c=o(s);i.set(c,e[a]=we(c,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ve()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ve()},m(a,s){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,s);L(a,t,s),n=!0},p(a,s){s&513&&(l=R(a[0]),Te(),e=He(e,s,o,1,a,l,i,t.parentNode,Me,we,t,Ie),$e())},i(a){if(!n){for(let s=0;s<l.length;s+=1)q(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)V(e[s]);n=!1},d(a){a&&h(t);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}function we(r,e){let i,t,n,l;function o(){return e[12](e[15])}return t=new Ue({props:{intention:e[15],onClick:o}}),{key:r,first:null,c(){i=b("div"),z(t.$$.fragment),n=A(),this.h()},l(a){i=g(a,"DIV",{class:!0});var s=S(i);Q(t.$$.fragment,s),n=T(s),s.forEach(h),this.h()},h(){_(i,"class","animate-fade-in"),this.first=i},m(a,s){L(a,i,s),U(t,i,null),d(i,n),l=!0},p(a,s){e=a;const c={};s&1&&(c.intention=e[15]),s&1&&(c.onClick=o),t.$set(c)},i(a){l||(q(t.$$.fragment,a),l=!0)},o(a){V(t.$$.fragment,a),l=!1},d(a){a&&h(i),j(t)}}}function et(r){let e,i,t,n,l,o='<h1 class="text-gold text-2xl font-bold mb-2">Discover Intentions</h1> <p class="text-sage text-sm">Explore community needs and contribute your unique gifts</p>',a,s,c,f,v,$,D,J,N,I,m,H,w,F,ne,M,X,le,ue;s=new Ke({props:{value:r[1],placeholder:"Search intentions...",onInput:r[7]}}),f=new Ye({props:{activeFilter:r[2],onFilterChange:r[8]}}),D=new je({props:{icon:"ðŸŽ¯",title:`${r[3]} Intentions`}});let P=R(r[6]),p=[];for(let u=0;u<P.length;u+=1)p[u]=ye(Ce(r,P,u));const fe=[xe,Ze],O=[];function he(u,C){return u[0].length>0?0:1}return w=he(r),F=O[w]=fe[w](r),M=new Oe({}),{c(){e=A(),i=b("div"),t=b("div"),n=b("div"),l=b("div"),l.innerHTML=o,a=A(),z(s.$$.fragment),c=A(),z(f.$$.fragment),v=A(),$=b("div"),z(D.$$.fragment),J=A(),N=b("div"),I=b("select");for(let u=0;u<p.length;u+=1)p[u].c();m=A(),H=b("div"),F.c(),ne=A(),z(M.$$.fragment),this.h()},l(u){Ve("svelte-5lepu2",document.head).forEach(h),e=T(u),i=g(u,"DIV",{class:!0});var E=S(i);t=g(E,"DIV",{class:!0});var K=S(t);n=g(K,"DIV",{class:!0});var y=S(n);l=g(y,"DIV",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-1okyw1k"&&(l.innerHTML=o),a=T(y),Q(s.$$.fragment,y),c=T(y),Q(f.$$.fragment,y),v=T(y),$=g(y,"DIV",{class:!0});var B=S($);Q(D.$$.fragment,B),J=T(B),N=g(B,"DIV",{class:!0});var k=S(N);I=g(k,"SELECT",{class:!0});var W=S(I);for(let ie=0;ie<p.length;ie+=1)p[ie].l(W);W.forEach(h),k.forEach(h),B.forEach(h),m=T(y),H=g(y,"DIV",{class:!0});var de=S(H);F.l(de),de.forEach(h),y.forEach(h),K.forEach(h),ne=T(E),Q(M.$$.fragment,E),E.forEach(h),this.h()},h(){document.title="Browse Intentions - Synchronicity Engine",_(l,"class","mb-4"),_(I,"class","sort-select svelte-7bymer"),r[5]===void 0&&Ae(()=>r[11].call(I)),_(N,"class","sort-dropdown svelte-7bymer"),_($,"class","header-row svelte-7bymer"),_(H,"class","intentions-list svelte-7bymer"),_(n,"class","screen-content"),_(t,"class","phone-mockup"),_(i,"class","min-h-screen pb-24")},m(u,C){L(u,e,C),L(u,i,C),d(i,t),d(t,n),d(n,l),d(n,a),U(s,n,null),d(n,c),U(f,n,null),d(n,v),d(n,$),U(D,$,null),d($,J),d($,N),d(N,I);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(I,null);me(I,r[5],!0),d(n,m),d(n,H),O[w].m(H,null),d(i,ne),U(M,i,null),X=!0,le||(ue=ee(I,"change",r[11]),le=!0)},p(u,[C]){const E={};C&2&&(E.value=u[1]),s.$set(E);const K={};C&4&&(K.activeFilter=u[2]),f.$set(K);const y={};if(C&8&&(y.title=`${u[3]} Intentions`),D.$set(y),C&64){P=R(u[6]);let k;for(k=0;k<P.length;k+=1){const W=Ce(u,P,k);p[k]?p[k].p(W,C):(p[k]=ye(W),p[k].c(),p[k].m(I,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=P.length}C&96&&me(I,u[5]);let B=w;w=he(u),w===B?O[w].p(u,C):(Te(),V(O[B],1,1,()=>{O[B]=null}),$e(),F=O[w],F?F.p(u,C):(F=O[w]=fe[w](u),F.c()),q(F,1),F.m(H,null))},i(u){X||(q(s.$$.fragment,u),q(f.$$.fragment,u),q(D.$$.fragment,u),q(F),q(M.$$.fragment,u),X=!0)},o(u){V(s.$$.fragment,u),V(f.$$.fragment,u),V(D.$$.fragment,u),V(F),V(M.$$.fragment,u),X=!1},d(u){u&&(h(e),h(i)),j(s),j(f),j(D),Fe(p,u),O[w].d(),j(M),le=!1,ue()}}}function tt(r,e,i){let t,n,l,o,a,s;Y(r,Ge,m=>i(0,l=m)),Y(r,x,m=>i(1,o=m)),Y(r,Z,m=>i(2,a=m)),Y(r,se,m=>i(5,s=m)),De(()=>{Be.set("browse")});const c=[{value:"trending",label:"ðŸ”¥ Trending"},{value:"recent",label:"ðŸ†• Recent"},{value:"high-impact",label:"âš¡ High Impact"}];function f(m){x.set(m)}function v(m){Z.set(m)}function $(m){pe(`/browse/${m}`)}function D(){Z.set("All"),x.set("")}function J(){s=Le(this),se.set(s),i(6,c)}const N=m=>$(m.intentionId),I=()=>pe("/create");return r.$$.update=()=>{r.$$.dirty&6&&i(4,t=a!=="All"||o!==""),r.$$.dirty&1&&i(3,n=l.length)},[l,o,a,n,t,s,c,f,v,$,D,J,N,I]}class ct extends ae{constructor(e){super(),oe(this,e,tt,et,re,{})}}export{ct as component};
